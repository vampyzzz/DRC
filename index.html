<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Drag Race Compendium</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: sans-serif;
            background-color: #0f172a; /* Corresponds to slate-900 */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- SVG Icons (Replaces lucide-react library) ---
        const SearchIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-5 h-5 text-slate-400"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>;
        const ChevronRightIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-4 w-4 mx-1"><polyline points="9 18 15 12 9 6"></polyline></svg>;
        const ChevronLeftIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-6 w-6"><polyline points="15 18 9 12 15 6"></polyline></svg>;
        const CrownIcon = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"></path></svg>;
        const MicIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22"></line></svg>;
        const ShirtIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><path d="M20.38 3.46 16 2a4 4 0 0 0-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"></path></svg>;
        const ClapperboardIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z"></path><path d="m6.2 5.3 3.1 3.9"></path><path d="m12.4 3.6 3.1 4"></path><path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"></path></svg>;
        const HomeIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="h-4 w-4 mr-1.5"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>;
        const BarChart2Icon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="mr-3 text-fuchsia-400"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>;
        const StarIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>;
        const TvIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-8 h-8 mr-3 text-fuchsia-400"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>;
        const GlobeIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6 mr-3"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path d="M2 12h20"></path></svg>;
        const InfoIcon = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-6 h-6"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>;

        const { useState, useEffect, useRef } = React;

        // --- DATABASE SIMULATION ---
        const db = {
          franchises: [
            { id: 'rpdr-us', name: 'RuPaul\'s Drag Race', region: 'United States', premiereDate: '2009-02-02', hosts: 'RuPaul', logo: 'https://placehold.co/500x281/4c1d95/f0abfc?text=RPDR+US', seasons: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16] },
            { id: 'rpdr-as', name: 'RuPaul\'s Drag Race All Stars', region: 'United States', premiereDate: '2012-10-22', hosts: 'RuPaul', logo: 'https://placehold.co/500x281/7b341e/fde68a?text=All+Stars', seasons: [201, 202, 203, 204, 205, 206, 207, 208, 209] },
            { id: 'switch-dr', name: 'The Switch Drag Race', region: 'Chile', premiereDate: '2015-10-08', hosts: 'Karla Constant', logo: 'https://placehold.co/500x281/155e75/a5f3fc?text=The+Switch', seasons: [] },
            { id: 'dr-thailand', name: 'Drag Race Thailand', region: 'Thailand', premiereDate: '2018-02-15', hosts: 'Art Arya, Pangina Heals', logo: 'https://placehold.co/500x281/701a75/f5d0fe?text=Thailand', seasons: [] },
            { id: 'rpdr-uk', name: 'RuPaul\'s Drag Race UK', region: 'United Kingdom', premiereDate: '2019-10-03', hosts: 'RuPaul', logo: 'https://placehold.co/500x281/1e3a8a/f0abfc?text=RPDR+UK', seasons: [101, 102, 103, 104, 105] },
            { id: 'canada-dr', name: 'Canada\'s Drag Race', region: 'Canada', premiereDate: '2020-07-02', hosts: 'Brooke Lynn Hytes', logo: 'https://placehold.co/500x281/6d28d9/f0abfc?text=Canada', seasons: [301, 302, 303, 304] },
            { id: 'dr-holland', name: 'Drag Race Holland', region: 'Netherlands', premiereDate: '2020-09-18', hosts: 'Fred van Leer', logo: 'https://placehold.co/500x281/c2410c/ffedd5?text=Holland', seasons: [] },
            { id: 'drag-race-du', name: 'Drag Race Down Under', region: 'Australia & NZ', premiereDate: '2021-05-01', hosts: 'RuPaul, Michelle Visage', logo: 'https://placehold.co/500x281/0c4a6e/67e8f9?text=Down+Under', seasons: [401, 402, 403, 404] },
            { id: 'dr-espana', name: 'Drag Race España', region: 'Spain', premiereDate: '2021-05-30', hosts: 'Supremme de Luxe', logo: 'https://placehold.co/500x281/b91c1c/fecaca?text=España', seasons: [] },
            { id: 'dr-italia', name: 'Drag Race Italia', region: 'Italy', premiereDate: '2021-11-18', hosts: 'Priscilla', logo: 'https://placehold.co/500x281/166534/bbf7d0?text=Italia', seasons: [] },
            { id: 'dr-france', name: 'Drag Race France', region: 'France', premiereDate: '2022-06-25', hosts: 'Nicky Doll', logo: 'https://placehold.co/500x281/1e3a8a/bfdbfe?text=France', seasons: [] },
            { id: 'dr-philippines', name: 'Drag Race Philippines', region: 'Philippines', premiereDate: '2022-08-17', hosts: 'Paolo Ballesteros', logo: 'https://placehold.co/500x281/f59e0b/fef3c7?text=Philippines', seasons: [] },
            { id: 'uk-vs-world', name: 'UK vs. The World', region: 'United Kingdom', premiereDate: '2022-02-01', hosts: 'RuPaul', logo: 'https://placehold.co/500x281/0c0a09/e7e5e4?text=UK+vs+TW', seasons: [] },
            { id: 'canada-vs-world', name: 'Canada vs. The World', region: 'Canada', premiereDate: '2022-11-18', hosts: 'Brooke Lynn Hytes', logo: 'https://placehold.co/500x281/4a044e/fce7f3?text=CAN+vs+TW', seasons: [] },
            { id: 'dr-belgique', name: 'Drag Race Belgique', region: 'Belgium', premiereDate: '2023-02-16', hosts: 'Rita Baga', logo: 'https://placehold.co/500x281/ca8a04/fefce8?text=Belgique', seasons: [] },
            { id: 'dr-sverige', name: 'Drag Race Sverige', region: 'Sweden', premiereDate: '2023-03-04', hosts: 'Robert Fux', logo: 'https://placehold.co/500x281/047857/a7f3d0?text=Sverige', seasons: [] },
            { id: 'dr-mexico', name: 'Drag Race México', region: 'Mexico', premiereDate: '2023-06-22', hosts: 'Lolita Banana, Valentina, Taiga Brava', logo: 'https://placehold.co/500x281/be123c/fecdd3?text=México', seasons: [] },
            { id: 'dr-brasil', name: 'Drag Race Brasil', region: 'Brazil', premiereDate: '2023-08-30', hosts: 'Grag Queen', logo: 'https://placehold.co/500x281/15803d/dcfce7?text=Brasil', seasons: [] },
            { id: 'dr-germany', name: 'Drag Race Germany', region: 'Germany', premiereDate: '2023-09-05', hosts: 'Barbie Breakout, Gianni Jovanovic', logo: 'https://placehold.co/500x281/172554/dbeafe?text=Germany', seasons: [] },
            { id: 'global-as', name: 'Global All Stars', region: 'Global', premiereDate: '2024-08-16', hosts: 'RuPaul', logo: 'https://placehold.co/500x281/fbbf24/171717?text=Global+AS', seasons: [] },
          ],
          seasons: {
            // US Seasons
            '1': { id: '1', franchiseId: 'rpdr-us', seasonNumber: '1', year: 2009, poster: 'https://placehold.co/400x600/7c2d12/ffffff?text=Season+1', winner: 'BeBe Zahara Benet', runnersUp: ['Nina Flowers'], missCongeniality: 'Nina Flowers', contestants: [], summary: "The inaugural season, often called 'The Lost Season,' introduced the world to the charisma, uniqueness, nerve, and talent of nine queens. Challenges included a thrift store design challenge and a MAC Viva Glam commercial.", trackRecord: [] },
            '2': { id: '2', franchiseId: 'rpdr-us', seasonNumber: '2', year: 2010, poster: 'https://placehold.co/400x600/7f1d1d/ffffff?text=Season+2', winner: 'Tyra Sanchez', runnersUp: ['Raven'], missCongeniality: 'Pandora Boxx', contestants: [], summary: "This season expanded to 12 queens and introduced the 'Snatch Game,' a celebrity impersonation challenge that would become a staple. It also saw the first 'reading' mini-challenge and the introduction of 'Untucked'.", trackRecord: [] },
            '3': { id: '3', franchiseId: 'rpdr-us', seasonNumber: '3', year: 2011, poster: 'https://placehold.co/400x600/7a4a1d/ffffff?text=Season+3', winner: 'Raja', runnersUp: ['Manila Luzon'], missCongeniality: 'Yara Sofia', contestants: [], summary: "Known for its high-fashion runways and memorable design challenges, this season featured 13 queens. The competition was fierce, with a sewing focus and the return of Shangela from Season 2.", trackRecord: [] },
            '4': { id: '4', franchiseId: 'rpdr-us', seasonNumber: '4', year: 2012, poster: 'https://placehold.co/400x600/365314/ffffff?text=Season+4', winner: 'Sharon Needles', runnersUp: ['Chad Michaels', 'Phi Phi O\'Hara'], missCongeniality: 'Latrice Royale', contestants: [], summary: "Remembered for its horror-themed winner, Sharon Needles, who challenged the show's aesthetic. The season featured a dramatic rivalry between Sharon and Phi Phi O'Hara and the shocking disqualification of Willam.", trackRecord: [] },
            '5': { id: '5', franchiseId: 'rpdr-us', seasonNumber: '5', year: 2013, poster: 'https://placehold.co/400x600/701a75/ffffff?text=Season+5', winner: 'Jinkx Monsoon', runnersUp: ['Alaska', 'Roxxxy Andrews'], missCongeniality: 'Ivy Winters', summary: "Often cited as a fan favorite due to its strong cast and memorable moments. It featured a fierce rivalry between Jinkx Monsoon and the 'Ro-Laska-Tox' alliance (Roxxxy Andrews, Alaska, and Detox).", contestants: ['jinkx-monsoon', 'alaska', 'roxxxy-andrews', 'detox', 'coco-montrese', 'alyssa-edwards', 'ivy-winters', 'jade-jolie', 'lineysha-sparx', 'honey-mahogany', 'vivienne-pinay', 'monica-beverly-hillz', 'serena-chacha', 'penny-tration'], trackRecord: [] },
            '6': { id: '6', franchiseId: 'rpdr-us', seasonNumber: '6', year: 2014, poster: 'https://placehold.co/400x600/0369a1/ffffff?text=Season+6', winner: 'Bianca Del Rio', runnersUp: ['Adore Delano', 'Courtney Act'], missCongeniality: 'BenDeLaCreme', summary: "This season had a split premiere, introducing 14 queens in two groups. It was dominated by the quick-witted comedy of Bianca Del Rio and featured many memorable challenges, including a rap and a talk show challenge.", contestants: ['bianca-del-rio', 'adore-delano', 'courtney-act', 'darienne-lake', 'bendelacreme', 'joslyn-fox', 'trinity-k-bonet', 'laganja-estranja', 'milk', 'gia-gunn', 'april-carrion', 'vivacious', 'magnolia-crawford', 'kelly-mantle'], trackRecord: [] },
            '7': { id: '7', franchiseId: 'rpdr-us', seasonNumber: '7', year: 2015, poster: 'https://placehold.co/400x600/be185d/ffffff?text=Season+7', winner: 'Violet Chachki', runnersUp: ['Ginger Minj', 'Pearl'], missCongeniality: 'Katya', summary: "This season was known for its focus on fashion and look-based queens. It had a rocky start with some criticized acting challenges, but the cast's strong personalities and runway looks made it memorable.", contestants: ['violet-chachki', 'ginger-minj', 'pearl', 'kennedy-davenport', 'katya', 'trixie-mattel', 'miss-fame', 'jaidynn-diore-fierce', 'max', 'kandy-ho', 'mrs-kasha-davis', 'jasmine-masters', 'sasha-belle', 'tempest-dujour'], trackRecord: [] },
            '8': { id: '8', franchiseId: 'rpdr-us', seasonNumber: '8', year: 2016, poster: 'https://placehold.co/400x600/166534/ffffff?text=Season+8', winner: 'Bob the Drag Queen', runnersUp: ['Kim Chi', 'Naomi Smalls'], missCongeniality: 'Cynthia Lee Fontaine', summary: "A shorter season with only 10 episodes, Season 8 was a celebration of the 100th episode and 100th queen. The season was dominated by the comedy and confidence of Bob the Drag Queen.", contestants: [], trackRecord: [] },
            '9': { id: '9', franchiseId: 'rpdr-us', seasonNumber: '9', year: 2017, poster: 'https://placehold.co/400x600/a21caf/ffffff?text=Season+9', winner: 'Sasha Velour', runnersUp: ['Peppermint'], missCongeniality: 'Valentina', summary: "This season moved to VH1 and featured a shocking 'Lip Sync for the Crown' tournament finale. Sasha Velour's iconic rose petal-filled lip sync to Whitney Houston's 'So Emotional' is one of the most memorable moments in the show's history.", contestants: ['sasha-velour', 'peppermint', 'shea-coulee', 'trinity-the-tuck', 'alexis-michelle', 'nina-bonina-brown', 'valentina', 'farrah-moan', 'aja', 'cynthia-lee-fontaine', 'eureka', 'charlie-hides', 'kimora-blac', 'jaymes-mansfield'], trackRecord: [] },
            '10': { id: '10', franchiseId: 'rpdr-us', seasonNumber: '10', year: 2018, poster: 'https://placehold.co/400x600/f59e0b/000000?text=Season+10', winner: 'Aquaria', runnersUp: ['Eureka', 'Kameron Michaels'], missCongeniality: 'Monét X Change', summary: "To celebrate a decade of Drag Race, this season brought back the 'Lip Sync for the Crown' finale. It was known for the rivalry between The Vixen and Eureka and the high-fashion looks of winner Aquaria.", contestants: [], trackRecord: [] },
            '11': { id: '11', franchiseId: 'rpdr-us', seasonNumber: '11', year: 2019, poster: 'https://placehold.co/400x600/0891b2/ffffff?text=Season+11', winner: 'Yvie Oddly', runnersUp: ['Brooke Lynn Hytes'], missCongeniality: 'Nina West', summary: "Featuring the largest cast to date with 15 queens, including the return of Vanessa Vanjie Mateo. The season was known for the showmance between Brooke Lynn Hytes and Vanjie, and the artistic drag of winner Yvie Oddly.", contestants: [], trackRecord: [] },
            '12': { id: '12', franchiseId: 'rpdr-us', seasonNumber: '12', year: 2020, poster: 'https://placehold.co/400x600/4c1d95/ffffff?text=Season+12', winner: 'Jaida Essence Hall', runnersUp: ['Crystal Methyd', 'Gigi Goode'], missCongeniality: 'Heidi N Closet', summary: "The reunion and finale were filmed remotely due to the COVID-19 pandemic. The season was overshadowed by the disqualification of a contestant due to off-screen misconduct.", contestants: [], trackRecord: [] },
            '13': { id: '13', franchiseId: 'rpdr-us', seasonNumber: '13', year: 2021, poster: 'https://placehold.co/400x600/be123c/ffffff?text=Season+13', winner: 'Symone', runnersUp: ['Kandy Muse'], missCongeniality: 'LaLa Ri', summary: "Filmed during the pandemic, this season featured a 'Lip Sync for Your Life' extravaganza in the first episode. It also included the show's first openly transgender male contestant, Gottmik.", contestants: [], trackRecord: [] },
            '14': { id: '14', franchiseId: 'rpdr-us', seasonNumber: '14', year: 2022, poster: 'https://placehold.co/400x600/1d4ed8/ffffff?text=Season+14', winner: 'Willow Pill', runnersUp: ['Lady Camden'], missCongeniality: 'Kornbread "The Snack" Jeté', summary: "This season was notable for having five transgender contestants. A new 'chocolate bar' twist was introduced, where one queen had a golden chocolate bar that would save them from elimination.", contestants: [], trackRecord: [] },
            '15': { id: '15', franchiseId: 'rpdr-us', seasonNumber: '15', year: 2023, poster: 'https://placehold.co/400x600/500724/ffffff?text=Season+15', winner: 'Sasha Colby', runnersUp: ['Anetra'], missCongeniality: 'Malaysia Babydoll Foxx', summary: "The series moved to MTV for this season and featured the largest cast in the show's history with sixteen queens. The prize money was increased to $200,000.", contestants: [], trackRecord: [] },
            '16': { id: '16', franchiseId: 'rpdr-us', seasonNumber: '16', year: 2024, poster: 'https://placehold.co/400x600/0284c7/ffffff?text=Season+16', winner: 'Nymphia Wind', runnersUp: ['Sapphira Cristál'], missCongeniality: 'Sapphira Cristál & Xunami Muse', summary: 'This season introduced a "Rate-A-Queen" twist where the queens rated each other\'s performances. The season also featured a Lip-Sync Smackdown for the eliminated queens before the finale.', contestants: [], trackRecord: [] },
            // All Stars
            '201': { id: '201', franchiseId: 'rpdr-as', seasonNumber: '1', year: 2012, poster: 'https://placehold.co/400x600/7b341e/fde68a?text=AS1', winner: 'Chad Michaels', runnersUp: ['Raven'], summary: "The first All Stars brought back 12 queens from the first four seasons. The twist was that the queens competed in pairs, a controversial format that has not been repeated.", contestants: [], trackRecord: [] },
            '202': { id: '202', franchiseId: 'rpdr-as', seasonNumber: '2', year: 2016, poster: 'https://placehold.co/400x600/c2410c/ffffff?text=AS2', winner: 'Alaska', runnersUp: ['Detox', 'Katya'], summary: "Widely considered one of the best seasons ever, All Stars 2 introduced a new format: the top two queens would 'Lip Sync for their Legacy,' with the winner choosing which of the bottom queens to eliminate.", contestants: ['alaska', 'detox', 'katya', 'roxxxy-andrews', 'alyssa-edwards', 'tatianna', 'phi-phi-ohara', 'ginger-minj', 'adore-delano', 'coco-montrese'], trackRecord: [] },
            '203': { id: '203', franchiseId: 'rpdr-as', seasonNumber: '3', year: 2018, poster: 'https://placehold.co/400x600/f59e0b/000000?text=AS3', winner: 'Trixie Mattel', runnersUp: ['Kennedy Davenport'], summary: "This season featured a shocking twist where eliminated queens returned as a jury to vote for the top two. It is also remembered for BenDeLaCreme's record-breaking number of challenge wins before she controversially eliminated herself.", contestants: ['trixie-mattel', 'kennedy-davenport', 'shangela', 'bebe-zahara-benet', 'aja', 'bendelacreme', 'chi-chi-devayne', 'milk', 'thorgy-thor', 'morgan-mcmichaels'], trackRecord: [] },
            '204': { id: '204', franchiseId: 'rpdr-as', seasonNumber: '4', year: 2019, poster: 'https://placehold.co/400x600/9d174d/ffffff?text=AS4', winner: 'Monét X Change & Trinity the Tuck', runnersUp: [], summary: "For the first time in Drag Race history, this season ended with a tie, crowning two winners. The season had many memorable moments, including the 'Snatch Game of Love' and a dramatic elimination of a front-runner.", contestants: [], trackRecord: [] },
            '205': { id: '205', franchiseId: 'rpdr-as', seasonNumber: '5', year: 2020, poster: 'https://placehold.co/400x600/3b82f6/ffffff?text=AS5', winner: 'Shea Couleé', runnersUp: ['Jujubee', 'Miz Cracker'], summary: "The elimination format was changed again. The top queen would lip sync against a 'Lip Sync Assassin' from a previous season. If the All Star won, she would eliminate a bottom queen. If the assassin won, the eliminated queen would be determined by a vote from the rest of the cast.", contestants: [], trackRecord: [] },
            '206': { id: '206', franchiseId: 'rpdr-as', seasonNumber: '6', year: 2021, poster: 'https://placehold.co/400x600/16a34a/ffffff?text=AS6', winner: 'Kylie Sonique Love', runnersUp: ['Eureka!', 'Ginger Minj', 'Ra\'Jah O\'Hara'], summary: "This season introduced the 'Game within a Game,' where eliminated queens competed in a secret lip sync competition to return. This season was praised for its heartwarming tone and the growth of its contestants.", contestants: [], trackRecord: [] },
            '207': { id: '207', franchiseId: 'rpdr-as', seasonNumber: '7', year: 2022, poster: 'https://placehold.co/400x600/ca8a04/000000?text=AS7', winner: 'Jinkx Monsoon', runnersUp: ['Monét X Change'], summary: "The first-ever all-winners season had a new format where no queens were eliminated. Instead, top queens were awarded stars and could block others from receiving stars, with the top four competing in a final Lip Sync for the Crown.", contestants: ['jinkx-monsoon', 'monet-x-change', 'shea-coulee', 'trinity-the-tuck', 'raja', 'the-vivienne', 'yvie-oddly', 'jaida-essence-hall'], trackRecord: [] },
            '208': { id: '208', franchiseId: 'rpdr-as', seasonNumber: '8', year: 2023, poster: 'https://placehold.co/400x600/6b7280/ffffff?text=AS8', winner: 'Jimbo', runnersUp: ['Kandy Muse'], summary: "This season introduced the 'Fame Games,' a parallel competition where eliminated queens showed their unused runway looks, and fans voted for a winner to receive a cash prize.", contestants: [], trackRecord: [] },
            '209': { id: '209', franchiseId: 'rpdr-as', seasonNumber: '9', year: 2024, poster: 'https://placehold.co/400x600/ef4444/ffffff?text=AS9', winner: 'Angeria Paris VanMicheals', runnersUp: ['Roxxxy Andrews', 'Vanessa Vanjie Mateo'], summary: "Queens competed for a $200,000 charity donation. No one was eliminated; instead, the lip sync winner could 'cut off' another queen from receiving a prize in the following week.", contestants: [], trackRecord: [] },
            // UK Seasons
            '101': { id: '101', franchiseId: 'rpdr-uk', seasonNumber: '1', year: 2019, poster: 'https://placehold.co/400x600/1e40af/ffffff?text=UK+S1', winner: 'The Vivienne', runnersUp: ['Divina De Campo'], contestants: ['the-vivienne', 'divina-de-campo', 'baga-chipz', 'cheryl-hole', 'blu-hydrangea', 'crystal', 'sum-ting-wong', 'vinegar-strokes', 'scaredy-kat', 'gothy-kendoll'], trackRecord: [] },
            '102': { id: '102', franchiseId: 'rpdr-uk', seasonNumber: '2', year: 2021, poster: 'https://placehold.co/400x600/500724/ffffff?text=UK+S2', winner: 'Lawrence Chaney', runnersUp: ['Bimini Bon-Boulash', 'Tayce'], contestants: ['lawrence-chaney', 'bimini-bon-boulash', 'tayce', 'ellie-diamond', 'awhora', 'tia-kofi', 'joe-black', 'veronica-green', 'sister-sister', 'asttina-mandella', 'cherry-valentine', 'ginny-lemon'], trackRecord: [] },
            '103': { id: '103', franchiseId: 'rpdr-uk', seasonNumber: '3', year: 2021, poster: 'https://placehold.co/400x600/1e40af/ffffff?text=UK+S3', winner: 'Krystal Versace', runnersUp: ['Ella Vaday', 'Kitty Scott-Claus'], contestants: [], trackRecord: [] },
            '104': { id: '104', franchiseId: 'rpdr-uk', seasonNumber: '4', year: 2022, poster: 'https://placehold.co/400x600/500724/ffffff?text=UK+S4', winner: 'Danny Beard', runnersUp: ['Cheddar Gorgeous'], contestants: [], trackRecord: [] },
            '105': { id: '105', franchiseId: 'rpdr-uk', seasonNumber: '5', year: 2023, poster: 'https://placehold.co/400x600/1e40af/ffffff?text=UK+S5', winner: 'Ginger Johnson', runnersUp: ['Michael Marouli'], contestants: [], trackRecord: [] },
            // Canada Season
            '301': { id: '301', franchiseId: 'canada-dr', seasonNumber: '1', year: 2020, poster: 'https://placehold.co/400x600/7e22ce/ffffff?text=Canada+S1', winner: 'Priyanka', runnersUp: ['Rita Baga', 'Scarlett BoBo'], contestants: ['priyanka', 'rita-baga', 'scarlett-bobo', 'jimbo', 'lemon', 'ilona-verley', 'boa', 'kiara', 'tynomi-banks', 'anastarzia-anaquway', 'kyne', 'juice-boxx'], trackRecord: [] },
            '302': { id: '302', franchiseId: 'canada-dr', seasonNumber: '2', year: 2021, poster: 'https://placehold.co/400x600/7e22ce/ffffff?text=Canada+S2', winner: 'Icesis Couture', runnersUp: ['Kendall Gender', 'Pythia'], contestants: [], trackRecord: [] },
            '303': { id: '303', franchiseId: 'canada-dr', seasonNumber: '3', year: 2022, poster: 'https://placehold.co/400x600/7e22ce/ffffff?text=Canada+S3', winner: 'Gisèle Lullaby', runnersUp: ['Jada Shada Hudson'], contestants: [], trackRecord: [] },
            '304': { id: '304', franchiseId: 'canada-dr', seasonNumber: '4', year: 2023, poster: 'https://placehold.co/400x600/7e22ce/ffffff?text=Canada+S4', winner: 'Venus', runnersUp: ['Aurora Matrix'], contestants: [], trackRecord: [] },
            // Down Under Season
            '401': { id: '401', franchiseId: 'drag-race-du', seasonNumber: '1', year: 2021, poster: 'https://placehold.co/400x600/065f46/ffffff?text=DU+S1', winner: 'Kita Mean', runnersUp: ['Art Simone', 'Karen from Finance', 'Scarlet Adams'], contestants: ['kita-mean', 'art-simone', 'karen-from-finance', 'scarlet-adams', 'elektra-shock', 'maxi-shield', 'etcetera-etcetera', 'coco-jumbo', 'anita-wiglit', 'jojo-zaho'], trackRecord: [] },
            '402': { id: '402', franchiseId: 'drag-race-du', seasonNumber: '2', year: 2022, poster: 'https://placehold.co/400x600/065f46/ffffff?text=DU+S2', winner: 'Spankie Jackzon', runnersUp: ['Hannah Conda', 'Kween Kong'], contestants: [], trackRecord: [] },
            '403': { id: '403', franchiseId: 'drag-race-du', seasonNumber: '3', year: 2023, poster: 'https://placehold.co/400x600/065f46/ffffff?text=DU+S3', winner: 'Isis Avis Loren', runnersUp: ['Gabriella Labucci'], contestants: [], trackRecord: [] },
            '404': { id: '404', franchiseId: 'drag-race-du', seasonNumber: '4', year: 2024, poster: 'https://placehold.co/400x600/065f46/ffffff?text=DU+S4', winner: 'Lazy Susan', runnersUp: ['Freya Armani', 'Mandy Boobs', 'Vybe'], contestants: [], trackRecord: [] },
          },
          queens: {
            'sasha-velour': { id: 'sasha-velour', name: 'Sasha Velour', realName: 'Alexander Hedges Steinberg', hometown: 'Brooklyn, NY', ageAtFilming: 29, profilePic: 'https://placehold.co/400x400/f0abfc/1e1b4b?text=Sasha+V', banner: 'https://placehold.co/1200x400/a21caf/1e1b4b?text=Sasha', bio: 'A true artist and intellectual, Sasha Velour brought a unique, high-concept approach to drag, culminating in one of the most iconic finale performances in Drag Race history.', seasons: [{seasonId: '9', outcome: 'Winner'}], lipSyncs: [{ song: 'So Emotional', opponent: 'Shea Couleé', outcome: 'Won', season: '9' }, { song: 'It\'s Not Right but It\'s Okay', opponent: 'Peppermint', outcome: 'Won', season: '9' }], career: { media: ['NightGowns', 'Smoke & Mirrors'], literature: ['Velour, The Drag Magazine'] } },
            'peppermint': { id: 'peppermint', name: 'Peppermint', realName: 'Agnes Moore', hometown: 'New York City, NY', ageAtFilming: 37, profilePic: 'https://placehold.co/400x400/f472b6/1e1b4b?text=Peppermint', banner: 'https://placehold.co/1200x400/db2777/1e1b4b?text=Peppermint', bio: 'The "Lip-Sync Assassin" of her season, Peppermint is a New York City legend and a powerful activist for the trans community.', seasons: [{seasonId: '9', outcome: 'Runner-up'}], lipSyncs: [{ song: 'Music', opponent: 'Cynthia Lee Fontaine', outcome: 'Won', season: '9' }, { song: 'Macho Man', opponent: 'Alexis Michelle', outcome: 'Won', season: '9' }, { song: 'Stronger', opponent: 'Trinity the Tuck', outcome: 'Won', season: '9' }], career: {media: ['Head Over Heels (Broadway)']} },
            'shea-coulee': { id: 'shea-coulee', name: 'Shea Couleé', realName: 'Jaren Kyei Merrell', hometown: 'Chicago, IL', ageAtFilming: 27, profilePic: 'https://placehold.co/400x400/eab308/1e1b4b?text=Shea', banner: 'https://placehold.co/1200x400/ca8a04/1e1b4b?text=Shea', bio: 'A dominant force in Season 9, Shea Couleé excelled in nearly every challenge, showcasing her incredible talent and fashion.', seasons: [{seasonId: '9', outcome: '3rd/4th Place'}, {seasonId: '205', outcome: 'Winner'}, {seasonId: '207', outcome: '3rd/4th Place'}], lipSyncs: [], career: {music:['Couleé-D']} },
            'trinity-the-tuck': { id: 'trinity-the-tuck', name: 'Trinity the Tuck', realName: 'Ryan Taylor', hometown: 'Orlando, FL', ageAtFilming: 31, profilePic: 'https://placehold.co/400x400/38bdf8/1e1b4b?text=Trinity', banner: 'https://placehold.co/1200x400/0ea5e9/1e1b4b?text=Trinity', bio: 'Starting as a pageant queen, Trinity "The Tuck" proved to be a versatile and hilarious competitor, known for her sharp wit and body-ody-ody.', seasons: [{seasonId: '9', outcome: '3rd/4th Place'}, {seasonId: '204', outcome: 'Winner'}, {seasonId: '207', outcome: '3rd/4th Place'}], lipSyncs: [], career: {} },
            'violet-chachki': { id: 'violet-chachki', name: 'Violet Chachki', realName: 'Paul Jason Dardo', hometown: 'Atlanta, GA', ageAtFilming: 22, profilePic: 'https://placehold.co/400x400/be185d/ffffff?text=Violet', banner: 'https://placehold.co/1200x400/9d174d/ffffff?text=Violet', bio: 'A high-fashion look queen and aerialist who stunned the judges with her tiny waist and iconic two-in-one tartan reveal.', seasons: [{seasonId: '7', outcome: 'Winner'}], lipSyncs: [], career: {} },
            'ginger-minj': { id: 'ginger-minj', name: 'Ginger Minj', realName: 'Joshua Allen Eads', hometown: 'Orlando, FL', ageAtFilming: 29, profilePic: 'https://placehold.co/400x400/f97316/ffffff?text=Ginger', banner: 'https://placehold.co/1200x400/ea580c/ffffff?text=Ginger', bio: 'A self-described "glamour toad," Ginger excelled at comedy and acting challenges with her sharp wit and classic camp sensibility.', seasons: [{seasonId: '7', outcome: 'Runner-up'}, {seasonId: '202', outcome: '8th Place'}, {seasonId: '206', outcome: 'Runner-up'}], lipSyncs: [], career: {} },
            'pearl': { id: 'pearl', name: 'Pearl', realName: 'Matthew James Lent', hometown: 'Brooklyn, NY', ageAtFilming: 23, profilePic: 'https://placehold.co/400x400/64748b/ffffff?text=Pearl', banner: 'https://placehold.co/1200x400/475569/ffffff?text=Pearl', bio: 'The "flazéda" queen whose sleepy, cool-girl demeanor hid a fierce competitor. Had a famously tense staredown with RuPaul.', seasons: [{seasonId: '7', outcome: 'Runner-up'}], lipSyncs: [], career: {} },
            'katya': { id: 'katya', name: 'Katya', realName: 'Brian McCook', hometown: 'Boston, MA', ageAtFilming: 32, profilePic: 'https://placehold.co/400x400/dc2626/ffffff?text=Katya', banner: 'https://placehold.co/1200x400/b91c1c/ffffff?text=Katya', bio: 'Your average, run-of-the-mill, Russian, bisexual, transvestite hooker who captured hearts with her bizarre humor and anxiety-ridden charm.', seasons: [{seasonId: '7', outcome: '5th Place', missCongeniality: true}, {seasonId: '202', outcome: 'Runner-up'}], lipSyncs: [], career: { media: ['UNHhhh', 'The Trixie & Katya Show', 'I\'m a Celebrity...Get Me Out of Here!'], literature: ['Trixie and Katya\'s Guide to Modern Womanhood'] } },
            'trixie-mattel': { id: 'trixie-mattel', name: 'Trixie Mattel', realName: 'Brian Michael Firkus', hometown: 'Milwaukee, WI', ageAtFilming: 24, profilePic: 'https://placehold.co/400x400/f472b6/000000?text=Trixie', banner: 'https://placehold.co/1200x400/f9a8d4/000000?text=Trixie', bio: 'A life-in-plastic folk-singing comedy queen, Trixie was eliminated early but returned to become one of the franchise\'s most successful alumnae.', seasons: [{seasonId: '7', outcome: '6th Place'}, {seasonId: '203', outcome: 'Winner'}], lipSyncs: [{ song: 'Dreaming', opponent: 'Pearl', outcome: 'Lost', season: '7'}, { song: 'Show Me Love', opponent: 'Ginger Minj', outcome: 'Lost', season: '7'}, { song: 'Wrecking Ball', opponent: 'Kennedy Davenport', outcome: 'Won', season: 'as3' }], career: { music: ['Two Birds', 'One Stone', 'Barbara'], business: ['Trixie Cosmetics', 'Trixie Motel'], media: ['UNHhhh', 'The Bald and the Beautiful', 'Trixie Motel'] } },
            'bianca-del-rio': { id: 'bianca-del-rio', name: 'Bianca Del Rio', realName: 'Roy Haylock', hometown: 'New York, NY', ageAtFilming: 37, profilePic: 'https://placehold.co/400x400/0369a1/ffffff?text=Bianca', banner: 'https://placehold.co/1200x400/0891b2/ffffff?text=Bianca', bio: 'An insult comic with a heart of gold, Bianca Del Rio is considered one of the most dominant winners in Drag Race history, never placing in the bottom.', seasons: [{seasonId: '6', outcome: 'Winner'}], lipSyncs: [], career: {media: ['Hurricane Bianca'], tours: ['It\'s Jester Joke', 'Blame It On Bianca Del Rio']} },
            'adore-delano': { id: 'adore-delano', name: 'Adore Delano', realName: 'Danielle Noriega', hometown: 'Azusa, CA', ageAtFilming: 23, profilePic: 'https://placehold.co/400x400/9333ea/ffffff?text=Adore', banner: 'https://placehold.co/1200x400/a855f7/ffffff?text=Adore', bio: 'A former American Idol contestant, Adore brought a punk-rock, grunge aesthetic and a "party" personality that made her a massive fan favorite.', seasons: [{seasonId: '6', outcome: 'Runner-up'}, {seasonId: '202', outcome: '9th Place (WDR)'}], lipSyncs: [], career: {music: ['Till Death Do Us Party', 'After Party']} },
            'courtney-act': { id: 'courtney-act', name: 'Courtney Act', realName: 'Shane Jenek', hometown: 'Sydney, Australia', ageAtFilming: 31, profilePic: 'https://placehold.co/400x400/db2777/ffffff?text=Courtney', banner: 'https://placehold.co/1200x400/e11d48/ffffff?text=Courtney', bio: 'Polished and professional, this Australian Idol alum showcased incredible vocals and flawless runway presentations.', seasons: [{seasonId: '6', outcome: 'Runner-up'}], lipSyncs: [], career: {media: ['Celebrity Big Brother UK (Winner)', 'Dancing with the Stars (Australia)']} },
            'bendelacreme': { id: 'bendelacreme', name: 'BenDeLaCreme', profilePic: 'https://placehold.co/400x400/4f46e5/f0abfc?text=DeLa', bio: 'Terminally delightful, BenDeLaCreme is a powerhouse of comedy and performance, holding the record for the most challenge wins in a single season.', seasons: [{seasonId: '6', outcome: '5th Place', missCongeniality: true}, {seasonId: '203', outcome: '6th Place (WDR)'}], lipSyncs:[] },
            'jinkx-monsoon': { id: 'jinkx-monsoon', name: 'Jinkx Monsoon', realName: 'Hera Hoffer', hometown: 'Seattle, WA', ageAtFilming: 24, profilePic: 'https://placehold.co/400x400/701a75/ffffff?text=Jinkx', banner: 'https://placehold.co/1200x400/86198f/ffffff?text=Jinkx', bio: 'The "internationally tolerated" cabaret star and narcoleptic, Jinkx proved that talent and character could triumph over fashion. "Water off a duck\'s back."', seasons: [{seasonId: '5', outcome: 'Winner'}, {seasonId: '207', outcome: 'Winner'}], lipSyncs: [], career: {media: ['Chicago (Broadway)'], music: ['The Inevitable Album', 'The Ginger Snapped']} },
            'alaska': { id: 'alaska', name: 'Alaska', realName: 'Justin Andrew Honard', hometown: 'Los Angeles, CA', ageAtFilming: 27, profilePic: 'https://placehold.co/400x400/0284c7/ffffff?text=Alaska', banner: 'https://placehold.co/1200x400/0369a1/ffffff?text=Alaska', bio: 'Hiiiiii! The snake-like queen from the planet Glamtron, Alaska\'s unique brand of comedy and extraterrestrial glamour made her a standout and an All Stars legend.', seasons: [{seasonId: '5', outcome: 'Runner-up'}, {seasonId: '202', outcome: 'Winner'}], lipSyncs: [{ song: 'Read U Wrote U', opponent: 'All', outcome: 'Won', season:'as2' }], career: { music: ['Anus', 'Poundcake', 'Vagina'], media: ['Race Chaser (Podcast)'] } },
            'roxxxy-andrews': { id: 'roxxxy-andrews', name: 'Roxxxy Andrews', realName: 'Michael Feliciano', hometown: 'Orlando, FL', ageAtFilming: 28, profilePic: 'https://placehold.co/400x400/c2410c/ffffff?text=Roxxxy', banner: 'https://placehold.co/1200x400/ea580c/ffffff?text=Roxxxy', bio: 'Known for her flawless runway looks and the iconic "Whip My Hair" wig reveal, Roxxxy is here to make it clear.', seasons: [{seasonId: '5', outcome: 'Runner-up'}, {seasonId: '202', outcome: '4th Place'}], lipSyncs: [], career: {} },
            'the-vivienne': { id: 'the-vivienne', name: 'The Vivienne', hometown: 'Liverpool, England', ageAtFilming: 27, profilePic: 'https://placehold.co/400x400/1e40af/ffffff?text=The+Vivienne', banner: 'https://placehold.co/1200x400/1d4ed8/ffffff?text=The+Vivienne', bio: 'The first-ever winner of RuPaul\'s Drag Race UK, known for her killer impersonations, especially Donald Trump.', seasons: [{seasonId: '101', outcome: 'Winner'}, {seasonId: '207', outcome: '3rd/4th Place'}], lipSyncs: [], career: {} },
            'lawrence-chaney': { id: 'lawrence-chaney', name: 'Lawrence Chaney', hometown: 'Glasgow, Scotland', ageAtFilming: 23, profilePic: 'https://placehold.co/400x400/500724/ffffff?text=Lawrence', banner: 'https://placehold.co/1200x400/831843/ffffff?text=Lawrence', bio: 'This Scottish legend is "purple, plastic, and fantastic," and won her season with humor and heart.', seasons: [{seasonId: '102', outcome: 'Winner', missCongeniality: true}], lipSyncs: [], career: {} },
            'priyanka': { id: 'priyanka', name: 'Priyanka', realName: 'Mark Suknanan', hometown: 'Toronto, Ontario', ageAtFilming: 28, profilePic: 'https://placehold.co/400x400/7e22ce/ffffff?text=Priyanka', banner: 'https://placehold.co/1200x400/9333ea/ffffff?text=Priyanka', bio: '"What\'s her name?!" Canada\'s first-ever drag superstar, Priyanka brought charisma and star power from her past as a children\'s TV host.', seasons: [{seasonId: '301', outcome: 'Winner'}], lipSyncs: [], career: {media: ['Canada\'s Drag Race (Guest Judge)']} },
            'ilona-verley': { id: 'ilona-verley', name: 'Ilona Verley', profilePic: 'https://placehold.co/400x400/4f46e5/f0abfc?text=Ilona', seasons: [{seasonId: '301', outcome: '6th Place', missCongeniality: true}]},
            'boa': { id: 'boa', name: 'BOA', profilePic: 'https://placehold.co/400x400/4f46e5/f0abfc?text=BOA', seasons: [{seasonId: '301', outcome: '7th Place'}]},
            'tynomi-banks': { id: 'tynomi-banks', name: 'Tynomi Banks', profilePic: 'https://placehold.co/400x400/4f46e5/f0abfc?text=Tynomi', seasons: [{seasonId: '301', outcome: '9th Place'}]},
            'kita-mean': { id: 'kita-mean', name: 'Kita Mean', hometown: 'Auckland, New Zealand', ageAtFilming: 34, profilePic: 'https://placehold.co/400x400/065f46/ffffff?text=Kita', banner: 'https://placehold.co/1200x400/047857/ffffff?text=Kita', bio: 'The hilarious and heartwarming winner of the inaugural season of Drag Race Down Under, co-owner of Caluzzi Cabaret in Auckland.', seasons: [{seasonId: '401', outcome: 'Winner'}], lipSyncs: [], career: {media: ['House of Drag']} },
            'anita-wiglit': { id: 'anita-wiglit', name: 'Anita Wigl\'it', profilePic: 'https://placehold.co/400x400/4f46e5/f0abfc?text=Anita', bio: 'A queen of comedy from New Zealand, known for her quick wit and joyful presence.', seasons: [{seasonId: '401', outcome: '9th Place', missCongeniality: true}], lipSyncs: []},
          }
        };

        // --- DATA FETCHING & STYLING ---
        const fetchData = (collection, id) => {
            if (!id) return db[collection] || [];
            const data = db[collection];
            if (Array.isArray(data)) {
                return data.find(item => item.id === id);
            }
            return data?.[id];
        };

        const getPlacementClass = (p) => ({
          'WIN': 'bg-sky-400 text-sky-900 border-sky-400', 
          'Winner': 'bg-yellow-400 text-yellow-900 border-yellow-400 font-black',
          'Runner-up': 'bg-slate-400 text-slate-900 border-slate-400', 
          'HIGH': 'bg-green-400 text-green-900 border-green-400',
          'SAFE': 'bg-slate-700/50 text-slate-300 border-slate-700', 
          'LOW': 'bg-orange-400 text-orange-900 border-orange-400',
          'BTM2': 'bg-rose-500 text-rose-900 border-rose-500', 
          'BTM': 'bg-rose-500 text-rose-900 border-rose-500', 
          'ELIM': 'bg-red-600 text-red-900 border-red-600',
          'WDR': 'bg-purple-500 text-purple-900 border-purple-500', 
          'IN': 'bg-teal-400 text-teal-900 border-teal-400', 
          'TOP2': 'bg-sky-400 text-sky-900 border-sky-400',
          'Miss C': 'bg-pink-400 text-pink-900 border-pink-400',
        }[p] || 'bg-slate-800 text-slate-500 border-slate-800');

        // --- Reusable Components ---
        const Card = ({ icon, title, children }) => (
            <div className="bg-slate-800/50 rounded-xl p-6 backdrop-blur-sm border border-slate-700/50">
              <div className="flex items-center text-fuchsia-400 mb-3">
                {icon}
                <h3 className="text-xl font-bold text-white ml-3">{title}</h3>
              </div>
              {children}
            </div>
        );

        // --- PAGE COMPONENTS ---
        const HomePage = ({ setView }) => (
          <div className="relative text-white min-h-screen -m-8 flex flex-col justify-center items-center text-center overflow-hidden">
            <div className="absolute inset-0 bg-indigo-900/50 z-10" style={{backgroundImage: 'radial-gradient(circle at center, transparent, #110c2e)'}}></div>
            <div className="absolute inset-0 z-0 opacity-20" style={{backgroundImage: 'url(https://www.transparenttextures.com/patterns/glitter.png), linear-gradient(to bottom, #1e1b4b, #312e81)', backgroundSize: '300px, cover'}}></div>
            <div className="relative z-20 p-8">
              <h1 className="text-6xl md:text-8xl font-black tracking-tighter uppercase" style={{ WebkitTextStroke: '2px #f0abfc', textShadow: '0 0 15px rgba(240, 171, 252, 0.5)' }}>
                The Drag Race Compendium
              </h1>
              <p className="mt-4 text-xl text-slate-300 max-w-3xl mx-auto">
                The definitive digital archive for every queen, season, and lip-sync from the global Drag Race universe. The library is officially OPEN.
              </p>
              <div className="mt-12">
                <button onClick={() => setView('franchise', 'all')} className="px-8 py-4 bg-fuchsia-500 text-white font-bold text-lg rounded-full uppercase tracking-widest shadow-lg shadow-fuchsia-500/30 hover:bg-fuchsia-400 hover:scale-105 transform transition-all duration-300 flex items-center mx-auto">
                  <GlobeIcon />
                  Explore All Franchises
                </button>
              </div>
            </div>
          </div>
        );

        const AllFranchisesPage = ({ setView }) => {
          const franchises = fetchData('franchises');
          return (
            <div>
                <h1 className="text-5xl md:text-7xl font-black text-white uppercase tracking-tighter mb-8">Global Werk Room</h1>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {franchises.map(franchise => (
                    <div key={franchise.id} onClick={() => setView('franchise', franchise.id)} className="group cursor-pointer bg-slate-800/50 p-6 rounded-2xl border border-slate-700/50 hover:border-fuchsia-500 hover:bg-slate-800 transition-all duration-300">
                      <img src={franchise.logo} alt={`${franchise.name} Logo`} className="w-full h-32 object-cover rounded-lg mb-4 opacity-80 group-hover:opacity-100" />
                      <h2 className="text-2xl font-bold text-white group-hover:text-fuchsia-400">{franchise.name}</h2>
                      <p className="text-slate-400">{franchise.region}</p>
                      <div className="text-xs text-slate-500 mt-3">
                          <p>Host(s): {franchise.hosts}</p>
                          <p>Premiere: {franchise.premiereDate}</p>
                      </div>
                    </div>
                  ))}
                </div>
            </div>
          )
        }

        const FranchisePage = ({ id, setView }) => {
          if (id === 'all') return <AllFranchisesPage setView={setView} />;

          const franchise = fetchData('franchises', id);
          if (!franchise) return <p>Franchise not found.</p>;

          return (
            <div>
              <div className="relative -m-8 mb-8 p-8 md:p-16 h-64 md:h-80 flex items-end rounded-b-3xl overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent z-10"></div>
                <img src={franchise.logo.replace('500x281', '1200x400')} alt={`${franchise.name} Banner`} className="absolute inset-0 w-full h-full object-cover z-0" />
                <div className="relative z-20">
                  <h1 className="text-5xl md:text-7xl font-black text-white uppercase tracking-tighter">{franchise.name}</h1>
                  <h2 className="text-2xl font-bold text-fuchsia-400">{franchise.region}</h2>
                </div>
              </div>

              <div className="mt-8">
                <h3 className="text-3xl font-bold text-white mb-6 flex items-center">
                  <TvIcon />
                  Seasons
                </h3>
                {franchise.seasons.length > 0 ? (
                  <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
                    {franchise.seasons.map(seasonId => {
                      const season = fetchData('seasons', seasonId.toString());
                      if (!season) return null;
                      return (
                        <div key={season.id} onClick={() => setView('season', season.id)} className="group cursor-pointer text-center relative overflow-hidden rounded-xl shadow-lg shadow-black/30">
                          <img src={season.poster} alt={`Season ${season.seasonNumber}`} className="w-full h-auto transform group-hover:scale-110 transition-transform duration-500" />
                          <div className="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                          <div className="absolute bottom-0 left-0 p-4 w-full">
                             <p className="font-black text-2xl text-white">
                                {franchise.id === 'rpdr-as' ? `AS${season.seasonNumber}` : `S${season.seasonNumber}`}
                             </p>
                            <p className="text-sm text-slate-300">{season.year}</p>
                          </div>
                        </div>
                      );
                    })}
                  </div>
                ) : (
                  <div className="text-center py-10 bg-slate-800/50 rounded-lg">
                    <p className="text-slate-400">Seasons coming soon, henny!</p>
                  </div>
                )}
              </div>
            </div>
          );
        };

        const SeasonPage = ({ id, setView }) => {
            const season = fetchData('seasons', id);
            if (!season) return <p>Season not found.</p>;
            const contestants = season.contestants.map(qid => fetchData('queens', qid)).filter(Boolean);
            const franchise = fetchData('franchises', season.franchiseId);

            return (
            <div>
                <div className="relative -m-8 mb-8">
                    <div className="h-96">
                        <img src={season.poster.replace('400x600', '1200x500')} alt={`Season ${season.seasonNumber}`} className="absolute inset-0 w-full h-full object-cover z-0 opacity-20" />
                        <div className="absolute inset-0 bg-gradient-to-t from-slate-900 to-slate-900/50 z-10"></div>
                    </div>
                    <div className="absolute bottom-0 p-8 md:p-12 z-20">
                        <p className="text-2xl font-bold text-fuchsia-400 cursor-pointer" onClick={() => setView('franchise', franchise.id)}>{franchise.name}</p>
                        <h1 className="text-6xl font-black text-white uppercase tracking-tighter">
                            {franchise.id.includes('as') ? `All Stars ${season.seasonNumber}` : `Season ${season.seasonNumber}`}
                        </h1>
                    </div>
                </div>
                
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div className="lg:col-span-1 space-y-6">
                        <Card icon={<CrownIcon className="w-6 h-6" />} title="The Crown">
                            <p className="text-sm font-semibold text-yellow-400">Winner</p>
                            <p className="text-2xl font-bold text-white mb-2">{season.winner}</p>
                            {season.runnersUp && season.runnersUp.length > 0 && (
                                <>
                                    <p className="text-sm font-semibold text-slate-400">Runners-Up</p>
                                    <p className="text-lg font-medium text-slate-200">{season.runnersUp.join(', ')}</p>
                                </>
                            )}
                        </Card>
                         {season.summary && (
                            <Card icon={<InfoIcon />} title="Season Summary">
                                <p className="text-slate-300 leading-relaxed">{season.summary}</p>
                            </Card>
                        )}
                        {season.missCongeniality && <div className="bg-slate-800/50 p-6 rounded-xl">
                            <h3 className="text-xl font-bold text-white mb-4">Fan Favorite</h3>
                            <p className="text-sm font-semibold text-fuchsia-400">Miss Congeniality</p>
                            <p className="text-2xl font-bold text-white">{season.missCongeniality}</p>
                        </div>}
                    </div>
                    <div className="lg:col-span-2 bg-slate-800/50 p-6 rounded-xl">
                        <h3 className="text-xl font-bold text-white mb-4">Cast of Queens</h3>
                        {contestants.length > 0 ? (
                            <div className="grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-7 gap-4">
                                {contestants.map(q => (
                                    <div key={q.id} onClick={() => setView('queen', q.id)} className="group cursor-pointer text-center">
                                        <img src={q.profilePic} alt={q.name} className="rounded-full w-20 h-20 mx-auto border-4 border-slate-700 group-hover:border-fuchsia-500 transition-colors duration-300" />
                                        <p className="text-xs mt-2 font-semibold text-slate-300 group-hover:text-white">{q.name}</p>
                                    </div>
                                ))}
                            </div>
                        ) : (
                            <p className="text-slate-400">Cast information coming soon.</p>
                        )}
                    </div>
                </div>
            </div>
            );
        };

        const QueenPage = ({ id, setView }) => {
            const queen = fetchData('queens', id);
            if (!queen) return <p className="text-center text-xl">Condragulations, you broke the simulation. Queen not found.</p>;

            return (
            <div>
                <div className="relative -m-8 mb-8 h-80 rounded-b-3xl overflow-hidden">
                    <img src={queen.banner || 'https://placehold.co/1200x400/1e1b4b/4c1d95?text=-'} alt={`${queen.name} Banner`} className="absolute inset-0 w-full h-full object-cover z-0" />
                    <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/70 to-transparent z-10"></div>
                    <div className="absolute bottom-0 left-0 p-8 z-20 flex items-end">
                        <img src={queen.profilePic} alt={queen.name} className="w-48 h-48 rounded-full border-8 border-slate-900 shadow-2xl" />
                        <div className="ml-6 mb-4">
                            <h1 className="text-6xl font-black text-white uppercase tracking-tighter" style={{ textShadow: '0 2px 10px rgba(0,0,0,0.7)' }}>{queen.name}</h1>
                            {queen.realName && <p className="text-xl text-slate-300">{queen.realName}</p>}
                        </div>
                    </div>
                </div>
                
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div className="lg:col-span-2 space-y-8">
                        {queen.bio && <Card icon={<StarIcon />} title="Biography">
                            <p className="text-slate-300 leading-relaxed">{queen.bio}</p>
                        </Card>}
                        {queen.lipSyncs && queen.lipSyncs.length > 0 && <Card icon={<MicIcon />} title="Lip-Sync Legacy">
                            <ul className="space-y-3 max-h-96 overflow-y-auto pr-2">
                                {queen.lipSyncs.map((ls, i) => (
                                <li key={i} className={`p-3 rounded-md flex justify-between items-center ${ls.outcome === 'Won' ? 'bg-green-500/10' : 'bg-red-500/10'}`}>
                                    <div>
                                        <p className="font-bold text-white">"{ls.song}"</p>
                                        <p className="text-sm text-slate-400">vs. {ls.opponent} (S{ls.season})</p>
                                    </div>
                                    <span className={`px-3 py-1 text-xs font-bold rounded-full ${ls.outcome === 'Won' ? 'bg-green-400 text-green-900' : 'bg-red-400 text-red-900'}`}>{ls.outcome}</span>
                                </li>
                                ))}
                            </ul>
                        </Card>}
                    </div>
                    <div className="space-y-8">
                        <Card icon={<ShirtIcon />} title="Info">
                            <div className="text-slate-300 space-y-2">
                                {queen.hometown && <p><strong className="text-white font-semibold">Hometown:</strong> {queen.hometown}</p>}
                                {queen.ageAtFilming && <p><strong className="text-white font-semibold">Age at Filming (First):</strong> {queen.ageAtFilming}</p>}
                            </div>
                        </Card>
                        {queen.career && Object.values(queen.career).some(v => Array.isArray(v) && v.length > 0) && <Card icon={<ClapperboardIcon />} title="Career Highlights">
                            <div className="space-y-4">
                              {queen.career?.music?.length > 0 && <div><h4 className="font-bold text-fuchsia-400">Music</h4><p className="text-slate-300 text-sm">{queen.career.music.join(', ')}</p></div>}
                              {queen.career?.business?.length > 0 && <div><h4 className="font-bold text-fuchsia-400">Business</h4><p className="text-slate-300 text-sm">{queen.career.business.join(', ')}</p></div>}
                              {queen.career?.media?.length > 0 && <div><h4 className="font-bold text-fuchsia-400">Media</h4><p className="text-slate-300 text-sm">{queen.career.media.join(', ')}</p></div>}
                              {queen.career?.tours?.length > 0 && <div><h4 className="font-bold text-fuchsia-400">Tours</h4><p className="text-slate-300 text-sm">{queen.career.tours.join(', ')}</p></div>}
                              {queen.career?.literature?.length > 0 && <div><h4 className="font-bold text-fuchsia-400">Literature</h4><p className="text-slate-300 text-sm">{queen.career.literature.join(', ')}</p></div>}
                            </div>
                        </Card>}
                    </div>
                </div>
            </div>
            );
        };

        // --- Main App Component ---
        const App = () => {
            const [history, setHistory] = useState([{ current: 'home', param: null }]);
            const [searchQuery, setSearchQuery] = useState('');
            const [searchResults, setSearchResults] = useState([]);
            const [isSearchFocused, setIsSearchFocused] = useState(false);
            const mainContentRef = useRef(null);

            const currentView = history[history.length - 1];

            const setView = (current, param) => {
                const newView = { current, param };
                setHistory(prevHistory => [...prevHistory, newView]);
                mainContentRef.current?.scrollTo(0, 0);
            };

            const goBack = () => {
                if (history.length > 1) {
                    setHistory(prevHistory => prevHistory.slice(0, -1));
                }
            };
            
            useEffect(() => {
                if (searchQuery.trim().length > 1) {
                    const allQueens = Object.values(fetchData('queens'));
                    const results = allQueens.filter(queen =>
                        queen.name && queen.name.toLowerCase().includes(searchQuery.toLowerCase())
                    ).slice(0, 10);
                    setSearchResults(results);
                } else {
                    setSearchResults([]);
                }
            }, [searchQuery]);

            const handleSearchSelect = (queenId) => {
                setView('queen', queenId);
                setSearchQuery('');
                setSearchResults([]);
                setIsSearchFocused(false);
            };
            
            const renderView = () => {
                switch (currentView.current) {
                    case 'franchise': return <FranchisePage id={currentView.param} setView={setView} />;
                    case 'season': return <SeasonPage id={currentView.param} setView={setView} />;
                    case 'queen': return <QueenPage id={currentView.param} setView={setView} />;
                    default: return <HomePage setView={setView} />;
                }
            };
            
            return (
                <div className="bg-slate-900 min-h-screen text-slate-100 antialiased" style={{backgroundImage: 'linear-gradient(to bottom right, #1e1b4b, #110c2e 50%, #1e1b4b)'}}>
                    <header className="bg-slate-900/70 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-700/50">
                        <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                            <div className="flex items-center">
                                {history.length > 1 && (
                                    <button onClick={goBack} className="p-2 rounded-full hover:bg-slate-700 mr-2">
                                        <ChevronLeftIcon />
                                    </button>
                                )}
                                <div className="flex items-center cursor-pointer flex-shrink-0" onClick={() => setView('home')}>
                                    <CrownIcon className="w-8 h-8 text-fuchsia-500" />
                                    <span className="text-xl font-black ml-2 tracking-tighter uppercase text-white">DRC</span>
                                </div>
                            </div>
                            <div className="relative w-full max-w-sm ml-4">
                                <span className="absolute left-3.5 top-1/2 -translate-y-1/2 pointer-events-none">
                                  <SearchIcon />
                                </span>
                                <input
                                    type="text"
                                    placeholder="Search for a queen..."
                                    value={searchQuery}
                                    onChange={(e) => setSearchQuery(e.target.value)}
                                    onFocus={() => setIsSearchFocused(true)}
                                    onBlur={() => setTimeout(() => setIsSearchFocused(false), 200)}
                                    className="w-full bg-slate-800 border border-slate-700 rounded-full py-2 pl-10 pr-4 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-fuchsia-500 transition-all"
                                />
                                {isSearchFocused && searchResults.length > 0 && (
                                    <div className="absolute top-full mt-2 w-full bg-slate-800/90 backdrop-blur-lg rounded-lg shadow-lg border border-slate-700 z-50 max-h-96 overflow-y-auto">
                                        <ul>
                                            {searchResults.map(queen => (
                                                <li key={queen.id}
                                                    onMouseDown={() => handleSearchSelect(queen.id)}
                                                    className="p-3 flex items-center hover:bg-fuchsia-500/20 cursor-pointer border-b border-slate-700 last:border-b-0">
                                                    <img src={queen.profilePic} alt={queen.name} className="w-10 h-10 rounded-full mr-3" />
                                                    <span className="font-bold text-white">{queen.name}</span>
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                )}
                            </div>
                        </div>
                    </header>

                    <main ref={mainContentRef} className="container mx-auto p-4 sm:p-6 lg:p-8">
                        {renderView()}
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>
